{% extends 'base.html.twig' %}

{% block title %}Accueil - Application Symfony{% endblock %}

{% block body %}
<div class="text-center mb-5">
    <h1 class="mb-3">üöÄ Bienvenue sur Mon App</h1>
    <p class="text-lg text-muted">Une application Symfony moderne avec un design √©pur√© et des fonctionnalit√©s avanc√©es
    </p>
</div>

<div class="welcome-features">
    <div class="card feature-card">
        <div class="feature-icon">üîê</div>
        <div class="card-body">
            <h3 class="card-title">Authentification S√©curis√©e</h3>
            <p class="card-text">Syst√®me d'authentification robuste avec inscription, connexion et gestion des sessions
                s√©curis√©es</p>
            {% if not app.user %}
            <div class="d-flex gap-sm justify-center mt-3">
                <a href="{{ path('app_login') }}" class="btn btn-primary">Se connecter</a>
                <a href="{{ path('app_register') }}" class="btn btn-outline">S'inscrire</a>
            </div>
            {% endif %}
        </div>
    </div>

    <div class="card feature-card">
        <div class="feature-icon">üë•</div>
        <div class="card-body">
            <h3 class="card-title">Gestion d'Utilisateurs</h3>
            <p class="card-text">Interface CRUD compl√®te pour administrer les utilisateurs avec r√¥les et permissions</p>
            {% if app.user %}
            <div class="mt-3">
                <a href="{{ path('app_user_index') }}" class="btn btn-primary">G√©rer les utilisateurs</a>
            </div>
            {% else %}
            <div class="mt-3">
                <span class="badge badge-secondary">Connexion requise</span>
            </div>
            {% endif %}
        </div>
    </div>

    <div class="card feature-card">
        <div class="feature-icon">‚ö°</div>
        <div class="card-body">
            <h3 class="card-title">Performance Optimis√©e</h3>
            <p class="card-text">Application haute performance avec cache int√©gr√©, assets optimis√©s et d√©ploiement
                automatis√©</p>
            <div class="mt-3">
                <span class="badge badge-success">Production Ready</span>
            </div>
        </div>
    </div>
</div>

{% if app.user %}
<div class="section mt-5">
    <div class="card">
        <div class="card-header">
            <h2 class="card-title m-0">üìä Tableau de bord</h2>
        </div>
        <div class="card-body">
            <div class="user-status">
                <div class="user-avatar">{{ app.user.email|first|upper }}</div>
                <div>
                    <h4 class="font-semibold text-primary">Bienvenue, {{ app.user.email|split('@')|first|title }} !</h4>
                    <p class="text-muted mb-2"><strong>Email :</strong> {{ app.user.email }}</p>
                    <p class="text-muted mb-3"><strong>R√¥les :</strong>
                        {% for role in app.user.roles %}
                        <span class="badge badge-primary">{{ role }}</span>{% if not loop.last %} {% endif %}
                        {% endfor %}
                    </p>
                    <div class="d-flex gap-sm">
                        <a href="{{ path('app_user_index') }}" class="btn btn-primary btn-sm">G√©rer les utilisateurs</a>
                        <a href="{{ path('app_logout') }}" class="btn btn-outline btn-sm">Se d√©connecter</a>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<div class="section">
    <div class="grid grid-3">
        <div class="card text-center">
            <div class="card-body">
                <h3 class="text-accent">{{ app.user.roles|length }}</h3>
                <p class="text-muted">R√¥les attribu√©s</p>
            </div>
        </div>
        <div class="card text-center">
            <div class="card-body">
                <h3 class="text-success">Actif</h3>
                <p class="text-muted">Statut du compte</p>
            </div>
        </div>
        <div class="card text-center">
            <div class="card-body">
                <h3 class="text-primary">{{ 'now'|date('H:i') }}</h3>
                <p class="text-muted">Derni√®re connexion</p>
            </div>
        </div>
    </div>
</div>
{% else %}
<div class="section mt-5">
    <div class="card text-center">
        <div class="card-body p-5">
            <h3 class="card-title">üéØ Pr√™t √† commencer ?</h3>
            <p class="card-text text-lg">Rejoignez notre communaut√© et d√©couvrez toutes les fonctionnalit√©s de
                l'application</p>
            <div class="d-flex gap-md justify-center mt-4">
                <a href="{{ path('app_register') }}" class="btn btn-primary btn-lg">Cr√©er un compte</a>
                <a href="{{ path('app_login') }}" class="btn btn-outline btn-lg">J'ai d√©j√† un compte</a>
            </div>
        </div>
    </div>
</div>
{% endif %}
{% endblock %}